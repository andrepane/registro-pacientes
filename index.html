<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CAIT Tracker</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <div class="logo">✓</div>
        <div class="brand-text">
          <h1>CAIT Tracker</h1>
          <p>Resumen visual por mes (ENT · FAM · PIAT)</p>
        </div>
      </div>

      <div class="top-actions">
        <button id="toggleAdd" class="btn ghost" type="button">+ Paciente</button>
      </div>
    </div>
  </header>

  <main class="wrap">

    <!-- DASHBOARD -->
    <section class="card dash">
      <div class="dash-top">
        <div class="dash-left">
          <h2 id="monthTitle">Mes</h2>
          <div class="subtle" id="monthSubtitle">Resumen rápido</div>
        </div>

        <div class="dash-controls">
          <button id="prevMonth" class="btn ghost" type="button" aria-label="Mes anterior">‹</button>
          <button id="goToday" class="btn" type="button">Hoy</button>
          <button id="nextMonth" class="btn ghost" type="button" aria-label="Mes siguiente">›</button>
        </div>
      </div>

      <div class="kpis" id="kpis">
        <!-- JS -->
      </div>

      <div class="toolbar">
        <div class="segmented" role="tablist" aria-label="Filtro">
          <button class="seg" data-view="month" type="button">Mes</button>
          <button class="seg" data-view="urgent" type="button">Urgente</button>
          <button class="seg" data-view="all" type="button">Todo</button>
        </div>

        <div class="legend">
          <span class="legend-item"><span class="dot bad"></span>ATR</span>
          <span class="legend-item"><span class="dot warn"></span>MES</span>
          <span class="legend-item"><span class="dot ok"></span>OK</span>
        </div>

        <input id="searchBox" class="search" type="search" placeholder="Buscar paciente..." />
      </div>
    </section>

    <!-- ADD PATIENT -->
    <section id="addCard" class="card add hidden">
      <div class="row between">
        <h2>Añadir paciente</h2>
        <button id="closeAdd" class="btn ghost" type="button">Cerrar</button>
      </div>

      <form id="patientForm" class="form-grid">
        <label class="field">
          <span>Nombre / Código</span>
          <input id="patientName" type="text" placeholder="Ej: NH1234 · A.B. (2019)" required />
        </label>

        <label class="field">
          <span>Notas (opcional)</span>
          <input id="patientNotes" type="text" placeholder="Ej: referente / observaciones rápidas" />
        </label>

        <button class="btn primary" type="submit">Guardar</button>
      </form>

      <div class="hint">
        Si no tienes autenticación, evita datos identificativos reales. Usa códigos.
      </div>
    </section>

    <!-- LIST -->
    <section class="card list-card">
      <div class="row between">
        <h2>Pacientes</h2>
        <div class="subtle" id="listHint">—</div>
      </div>

      <div id="list" class="list">
        <!-- JS -->
      </div>
    </section>
  </main>

  <footer class="footer">
    <small>Uso personal. No historia clínica.</small>
  </footer>

  <script type="module" src="app.js"></script>
</body>
</html>
